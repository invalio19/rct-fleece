<div class="inv-head">
  <h1 class="title">Invalio's RCT Fleecer</h1>
  <h2 class="title is-4">Park settings</h2>
  <div class="buttons has-addons is-fullwidth">
    <button
      [class]="(saveData.gameVersion === GameVersion.VanillaRct2) ? 'button is-primary is-selected' : 'button'"
      (click)="saveData.gameVersion = GameVersion.VanillaRct2">
      RCT2 / RCT Classic
    </button>
    <button
      [class]="(saveData.gameVersion === GameVersion.OpenRct2) ? 'button is-primary is-selected' : 'button'"
      (click)="saveData.gameVersion = GameVersion.OpenRct2">
      OpenRCT2
    </button>
  </div>
</div>
<div class="inv-ride" *ngFor="let ride of rides; let i = index">
  <div class="field has-addons">
    <p class="control is-expanded">
      <input
        class="input is-primary"
        placeholder="New ride"
        [(ngModel)]="ride.name">
    </p>
    <p class="control">
      <button class="button is-primary">
        <strong>{{getMaxPriceString(ride)}}</strong>
      </button>
    </p>
  </div>
  <div class="level is-mobile">
    <div class="level-left">
      <div class="field has-addons">
        <p class="control">
          <button 
            class="button"
            [disabled]="i === 0"
            (click)="onMoveRideUp(i)">      
            <span class="icon">
              <i class="fa fa-chevron-up"></i>
            </span>      
          </button>
        </p>
        <p class="control">
          <button
            class="button"
            [disabled]="i === rides.length - 1"
            (click)="onMoveRideDown(i)">      
            <span class="icon">
              <i class="fa fa-chevron-down"></i>
            </span>
          </button>
        </p>
      </div>
    </div>
    <div class="level-right">
      <div class="buttons">
        <button
          class="button is-primary"
          [disabled]="!canUpgradeRideAge(ride)"
          (click)="onUpgradeRideAge(ride)">
          <span><strong>+</strong></span>
          <span class="icon">
            <i class="fa fa-database"></i>
          </span>
        </button>
        <button
          class="button is-primary"
          [disabled]="!canDegradeRideAge(ride)"
          (click)="onDegradeRideAge(ride)">
          <span><strong>â€“</strong></span>
          <span class="icon">
            <i class="fa fa-database"></i>
          </span>
        </button>
        <button class="button">
          <span class="icon">
            <i
              [class]="expandedIndex === i ? 'fa fa-angle-double-up fa-2x' : 'fa fa-angle-double-down fa-2x'"
              (click)="onExpandCollapseRide(i)"></i>
          </span>
        </button>
      </div>
    </div>
  </div>
  <app-ride *ngIf="expandedIndex === i"
    [ride]="ride"
    [index]="i"
    (rideIndexDeleted)="onRideDeleted($event)">
  </app-ride>
</div>
<div class="inv-footer">
  <div class="buttons">
    <button class="button is-success" (click)="onAddNewAttraction()">Add new attraction</button>
    <button class="button is-danger" (click)="onDeleteAllRides()">Delete all rides</button>
    <button class="button is-info is-small" (click)="onSave()">Save all rides (temporary! should happen automatically)</button>
  </div>
</div>