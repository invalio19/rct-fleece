<div class="field">
  <div class="select is-primary is-fullwidth">
    <select
      data-test-id="ride-type"
      (change)="onSelectRideType($event.target.value)">
      <option
        [selected]="ride.typeId === undefined"
        disabled hidden>Ride type</option>
      <option
        *ngFor="let rideTypeOption of rideTypeOptions"
        [selected]="ride.typeId === rideTypeOption.id"
        [value]="rideTypeOption.id">
        {{rideTypeOption.name}}
      </option>
    </select>
  </div>
</div>
<div class="field">
  <div class="select is-primary is-fullwidth">
    <select (change)="onSelectRideAge($event.target.value)">
      <option
        *ngFor="let rideAgeOption of rideAgeOptions"
        [selected]="ride.age === rideAgeOption.id"
        [value]="rideAgeOption.id">
        {{rideAgeOption.name}}
      </option>
    </select>
  </div>
</div>
<div class="field has-addons">  
  <p class="control inv-rating">
    <a class="button is-primary inv-rating-inner inv-disabled" disabled>
      Excitement
    </a>
  </p>
  <p class="control is-expanded">
    <input
      class="input is-primary"
      type="number"
      min="0"
      [max]="this.maxRideRatingValue"
      step="0.01"
      (input)="onChangeRideRating()"
      [(ngModel)]="ride.excitement">
  </p>
</div>
<div class="field has-addons">  
  <p class="control inv-rating">
    <a class="button is-primary inv-rating-inner inv-disabled" disabled>
      Intensity
    </a>
  </p>
  <p class="control is-expanded">
    <input
      class="input is-primary"
      type="number"
      min="0"
      [max]="this.maxRideRatingValue"
      step="0.01"
      (input)="onChangeRideRating()"
      [(ngModel)]="ride.intensity">
  </p>
</div>
<div class="field has-addons">  
  <p class="control inv-rating">
    <a class="button is-primary inv-rating-inner inv-disabled" disabled>
      Nausea
    </a>
  </p>
  <p class="control is-expanded">
    <input
      class="input is-primary"
      type="number"
      min="0"
      [max]="this.maxRideRatingValue"
      step="0.01"
      (input)="onChangeRideRating()"
      [(ngModel)]="ride.nausea">
  </p>
</div>
<div
  *ngIf="ride.duplicates !== undefined && ride.duplicates.length > 0"
  class="box content">
  <p>This ride is a duplicate of:</p>
  <ul>
    <li *ngFor="let duplicate of ride.duplicates">{{duplicate === undefined || duplicate === '' ? 'Unnamed ride' : duplicate}}</li>
  </ul>
</div>
<div
  class="modal"
  [class.is-active]="isRideDataModalActive"
  data-test-id="ride-data-modal">
  <div class="modal-background" (click)="onClickCloseRideDataModal()"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <p class="modal-card-title is-size-5">{{getRideTypeName()}}</p>
      <button
        class="delete"
        aria-label="close"
        (click)="onClickCloseRideDataModal()">
      </button>
    </header>
    <section class="modal-card-body">
      <div class="content">
        <div
          *ngIf="hasAnyStatRequirements()"
          data-test-id="minimum-stat-requirements">
          <h3 class="is-size-6">Minimum stat requirements</h3>
          <table class="table">
            <tbody>
              <tr *ngIf="hasStatRequirement('maxSpeed')">
                <td>Max. speed</td>
                <td>{{getStatRequirement('maxSpeed')}}</td>
              </tr>
              <tr *ngIf="hasStatRequirement('firstLength')">
                <td>Ride length</td>
                <td>{{getStatRequirement('firstLength')}}</td>
              </tr>
              <tr *ngIf="hasStatRequirement('maxNegativeGs')">
                <td>Max. negative vertical G's<span *ngIf="isIgnoredByInversions('maxNegativeGs')">*</span></td>
                <td>{{getStatRequirement('maxNegativeGs')}}</td>
              </tr>
              <tr *ngIf="hasStatRequirement('maxLateralGs')">
                <td>Max. lateral G's</td>
                <td>{{getStatRequirement('maxLateralGs')}}</td>
              </tr>
              <tr *ngIf="hasStatRequirement('numberOfDrops')">
                <td>Drops<span *ngIf="isIgnoredByInversions('numberOfDrops')">*</span></td>
                <td>{{getStatRequirement('numberOfDrops')}}</td>
              </tr>
              <tr *ngIf="hasStatRequirement('highestDropHeight')">
                <td>Highest drop height<span *ngIf="isIgnoredByInversions('highestDropHeight')">*</span></td>
                <td>{{getStatRequirement('highestDropHeight')}}</td>
              </tr>
              <tr *ngIf="isInversionRequirementMessageRequired()">
                <td colspan="2" class="is-size-7">*Requirement need not be met if ride has any inversions</td>
              </tr>
              <tr *ngIf="getStandardPenaltyMessage()">
                <td colspan="2" class="is-size-7 has-text-danger">{{getStandardPenaltyMessage()}}</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>
    <footer class="modal-card-foot inv-flex-end">
      <button        
        class="button is-primary"
        (click)="onClickCloseRideDataModal()">
        OK
      </button>
    </footer>
  </div>
</div>
<div
  class="modal"
  [class.is-active]="isDeleteModalActive"
  data-test-id="delete-ride-modal">
  <div class="modal-background" (click)="onClickCloseDeleteModal()"></div>
  <div class="modal-content">
    <div class="box">
      <p class="content">Are you sure you want to delete <strong>{{ride.name ? ride.name : 'Unnamed ride'}}</strong>?</p>
      <div class="buttons is-right">
        <button class="button" (click)="onClickCloseDeleteModal()">Cancel</button>
        <button class="button is-danger" (click)="onDelete()">Delete ride</button>
      </div>
    </div>
  </div>
  <button class="modal-close is-large" aria-label="close" (click)="onClickCloseDeleteModal()"></button>
</div>
<div class="level is-mobile">
  <div class="level-left">
    <button
      *ngIf="hasAnyStatRequirements()"
      class="button is-primary"
      (click)="onClickShowRideData()"      
      data-test-id="ride-data-button">
      <span class="icon">
        <strong class="is-family-monospace">i</strong>
      </span>
    </button>
  </div>
  <div class="level-right">
    <button class="button" (click)="onClickAttemptDelete()">
      <span class="icon">
        <i class="fa fa-trash"></i>
      </span>
    </button>
  </div>
</div>